from OpenGL.GL import *
from OpenGL.GLUT import *
import numpy as np
from math import *

s=0.0175
def body(x,y1,y2,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r/255,g/255,b/255)
    glVertex(-x,-y1)
    glVertex(x,-y1)
    glVertex(x,y2)
    glVertex(-x,y2)
    glEnd()

def head(x,y1,x2,y2,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r / 255, g / 255, b / 255)
    glVertex(-x, y1)
    glVertex(x, y1)
    glVertex(x2, y2)
    glVertex(-x2, y2)
    glEnd()

def ext(x,y1,y2,xc,yc,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r/255,g/255,b/255)
    glVertex(x,y1)
    glVertex(xc,y1)
    glVertex(xc,yc)
    glVertex(x,y2)
    glEnd()

def wheels(x1,y1,x2,y2,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r/255,g/255,b/255)
    glVertex(-x1,-y1)
    glVertex(-x2,-y1)
    glVertex(-x2,-y2)
    glVertex(-x1,-y2)
    glEnd()

def lines(x1,x2,y,r,g,b):
    glBegin(GL_LINES)
    glColor3f(r / 255, g / 255, b / 255)
    glVertex(x1, y)
    glVertex(x2, y)
    glEnd()

def lineY(x,y1,y2,r,g,b):
    glBegin(GL_LINES)
    glColor3f(r / 255, g / 255, b / 255)
    glVertex(x, y1)
    glVertex(x, y2)
    glEnd()

def det():
    lines(0.46875, 0.5, -.6705, 0, 68, 119)
    lines(-0.46875, -0.5, -.6705, 0, 68, 119)
    lines(0.46875, 0.5, -.713, 0, 68, 119)
    lines(-0.46875, -0.5, -.713, 0, 68, 119)

    lines(-.5, -.17975, -0.91975, 0, 68, 119)
    lines(-.16375, -.13875, -0.91975, 0, 68, 119)
    lines(.5, .2, -0.91975, 0, 68, 119)
    lines(-.254, .254, -0.95975, 0, 68, 119)

    lines(-.862, -.5, -.31775, 0, 68, 119)

    lines(-.862+s, -.5-s, -.31775+0.04333, 150, 151, 154)
    lines(.862 - s, .5 + s, -.31775 + 0.04333, 150, 151, 154)

    lines(-.862, -.5, -.31775 - 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 2 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 3 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 4 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 5 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 6 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 7 * 0.0625, 0, 68, 119)
    lines(-.862, -.5, -.31775 - 8 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775, 0, 68, 119)
    lines(.862, .5, -.31775 - 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 2 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 3 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 4 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 5 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 6 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 7 * 0.0625, 0, 68, 119)
    lines(.862, .5, -.31775 - 8 * 0.0625, 0, 68, 119)

    lineY(0.24125, 0, 0.2725, 0, 68, 119)
    lineY(-0.24125, 0, 0.2725, 0, 68, 119)
    lines(0.24125, 0.46725, 0.18225,  0, 68, 119)
    lines(-0.24125, -0.46725, 0.18225, 0, 68, 119)
    lines(0.24125+s-0.00811, 0.46725-s, 0.18225-s, 255, 226, 135)
    lines(-0.24125-s+0.00811, -0.46725+s, 0.18225-s, 255, 226, 135)

    lines(-0.125+0.02,  0.125-0.02,0.2725+0.06775, 0, 68, 119)
    lines(-0.125+0.02, 0.125-0.02,0.2725+2*0.06775, 0, 68, 119)

    glLineWidth(9)
    lines(0.46875, 0.5, -.6905, 166,187,192)
    lines(-0.46875, -0.5, -.6905, 166,187,192)
    lines(-1,1,-0.8815,0, 68, 119)

def shape(x1,y1,y2,x2,y3,x3,yc,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r/255,g/255,b/255)
    glVertex(x1,-y1)
    glVertex(x1,-y2)
    glVertex(x2,-y2)
    glVertex(x2,-y3)
    glVertex(x3,-yc)
    glEnd()

def circle(r,xc,yc,R,G,B):
    glBegin(GL_POLYGON)
    glColor3f(R,G,B)
    for theta in np.arange(0, 2 * pi, 0.001):
        x = xc + r * cos(theta)
        y = yc + r * sin(theta)
        glVertex(x, y)

    glEnd()

def halfC(r,xc,yc,a,R,G,B):
    glBegin(GL_POLYGON)
    glColor3f(R,G,B)
    for theta in np.arange(0,a*-pi, -0.001):
        x = xc + r * cos(theta)
        y = yc + r * sin(theta)
        glVertex(x, y)

    glEnd()

def eyes():
    for i in (-1, 1):
        for j in np.arange(0.05, 0.14, 0.01):
            circle(j + 0.01, i * 0.05 + i * 1.6 * j, 0.9 - 2 * j+0.015,0.13, 0.27, 0.45)
        for j in np.arange(0.05, 0.14, 0.01):
            circle(j, i * 0.05 + i * 1.6 * j, 0.9 - 2 * j+0.015,0.83, 0.92, 0.95)

        circle(0.1 + 0.01, i * 0.21, 0.7+0.015,0.13, 0.27, 0.45)
        circle(0.1, i * 0.21, 0.7+0.015,0.345, 0.443, 0.56)
        circle(0.06, i * 0.21, 0.7+0.015,0.2, 0.3, 0.47)
        circle(0.02, i * 0.178, 0.66+0.015,0.76, 0.8, 0.84)
        circle(0.03, i * 0.23, 0.75+0.015,0.76, 0.8, 0.84)

        glPointSize(5)
        circle(0.01, i * 0.13, 0.82+0.015,0.13, 0.27, 0.45)
        circle(0.01, i * 0.21, 0.55+0.015,0.13, 0.27, 0.45)
        circle(0.01, i * 0.35, 0.66+0.015,0.13, 0.27, 0.45)

def handblock(x1,y1,x2,y2,x3,y3,x4,r,g,b):
    glBegin(GL_POLYGON)
    glColor3f(r / 255, g / 255, b / 255)
    glVertex(x1, y1)
    glVertex(x2, y1)
    glVertex(x2, y2)
    glVertex(x3, y3)
    glVertex(x4, y3)
    glVertex(x1, y2)
    glEnd()

def hand():
    handblock(.2015,.0625-2*.04525,.61275+0.007777,.17375-2*0.03525-0.03333,.58325,.2-2*.03525,.33325,0,68,119)
    handblock(.2015+s,.0625-2*.04525+s,.61275-s,.17375-2*0.03525-s-0.03333,.58325-s,.2-2*.03525-s,.33325-s,185,230,237)
    handblock(-.2015, .0625 - 2 * .04525, -.61275-0.007777, .17375 - 2 * 0.03525-0.03333, -.58325, .2 - 2 * .03525, -.33325, 0, 68, 119)
    handblock(-.2015 - s, .0625 - 2 * .04525 + s, -.61275 + s, .17375 - 2 * 0.03525 - s-0.03333, -.58325 + s, .2 - 2 * .03525 - s,
              -.33325 + s, 185, 230, 237)
    handblock(.2015, -(.0625 +.0211), .61275+0.007777, -(.17375 +  0.03111)+0.03333, .58325, -(.2 + .03), .33325, 0, 68, 119)
    handblock(.2015 + s, -(.0625 +  .0211) - s, .61275 - s, -(.17375 +  0.03111)+ s+0.03333, .58325 - s, -(.2 + .03) + s,
              .33325 - s, 185, 230, 237)
    handblock(-.2015, -(.0625 + .0211), -.61275-0.007777, -(.17375 + 0.03111)+0.03333, -.58325, -(.2 + .03), -.33325, 0, 68, 119)
    handblock(-.2015 - s, -(.0625 + .0211) - s, -.61275 + s, -(.17375 + 0.03111)+0.03333 + s, -.58325 + s, -(.2 + .03) + s,
              -.33325 - s, 185, 230, 237)
    ext(.514 - 0.011, -.1615 -0.0211 ,.04075+0.03111,.61275+0.01111,.040750+.03111,0,68,119)
    ext(.514 - 0.011+s, -.1615 - 0.0211+s, .04075 + 0.03111-s, .61275-s, .040750 +0.03111-s ,185, 230, 237)
    ext(-.514 + 0.011, -.1615 - 0.0211, .04075 + 0.03111, -.61275-0.01111, .040750 + .03111, 0, 68, 119)
    ext(-.514 + 0.011 - s, -.1615 - 0.0211 + s, .04075 + 0.03111 - s, -.61275 + s, .040750 + 0.03111 - s, 185, 230, 237)
    ext(-.514,-(.0625 +.0211),.0625 - 2 * .04525,-.246,.0625 - 2 * .04525,0,68,119)
    ext(.514, -(.0625 + .0211), .0625 - 2 * .04525, .246, .0625 - 2 * .04525, 0, 68, 119)
    ext(-.514+s, -(.0625 + .0211), .0625 - 2 * .04525, -.246-s, .0625 - 2 * .04525, 130,162,168)
    ext(.514-s, -(.0625 + .0211), .0625 - 2 * .04525, .246+s, .0625 - 2 * .04525, 130,162,168)

def Draw() :

    global s
    glClearColor(1,1,1,1)
    glClear(GL_COLOR_BUFFER_BIT)

    shape(.264,.61625,.33325,.53125,.534175,.46875,.61625, 0,68, 119)
    shape(-.264, .61625, .33325, -.53125, .534175, -.46875,.61625, 0, 68, 119)
    shape(.264, .6875, .61625, .46875, .75525, .3375,.75525, 0, 68, 119)
    shape(-.264, .6875, .61625, -.46875, .75525, -.3375, .75525, 0, 68, 119)
    shape(.264+s, .61625-s, .33325+s, .53125-s, .534175-s, .46875-s, .61625-s,  166,187,192)
    shape(-.264-s, .61625-s, .33325+s, -.53125+s, .534175-s, -.46875+s, .61625-s, 166,187,192)
    shape(.264+s, .6875-s, .61625+s, .46875-s, .75525-s, .3375+s, .75525-s,166,187,192)
    shape(-.264-s, .6875-s, .61625+s, -.46875+s, .75525-s, -.3375-s, .75525-s,166,187,192)
    circle(0.01111, 0.32825, -0.67875,  0, 0.26666666667, 0.4666666667)
    circle(0.01111, -0.32825, -0.67875, 0, 0.26666666667, 0.4666666667)


    body(0.46725,0.552,0.2725,0,68,119)
    body(0.46725-s, 0.552-s, 0, 255, 226, 135)
    body(0.46725 - s, 0.552 - s, 0-s, 255, 210, 61)
    body(0.46725 - s, -0.0175, 0.2725-s, 255, 226, 135)
    body(0.46725 - s, -0.0175, 0.2725 - 2*s, 255, 210, 61)


    body(0.125-0.02, -0.2725,0.47925 , 0, 68, 119)  # Knee
    body(0.0765, -0.47925, 0.60425, 0, 68, 119)  # Knee
    body(0.125-s-0.02 ,-0.2725, 0.47925-s,  255, 226, 135)  # Knee
    body(0.0765-s, -0.47925, 0.60425-s, 255, 226, 135)  # Knee
    body(0.125 - s - 0.02, -0.2725, 0.47925 - 2*s, 255, 210, 61)  # Knee
    body(0.0765 - s, -0.47925, 0.60425 - 2*s, 255, 210, 61)  # Knee

    circle(0.04725, 0.1275, 0.13725, 0, 0.26666666667, 0.4666666667)
    circle(0.0157,0.1275,0.13725,1,0.41568,0.2901)
    ext(-0.1735, 0.066, 0.2065, 0.0275, 0.2065, 0, 68, 119)
    ext(-0.1735+s, 0.066+s, 0.2065-s, 0.0275-s, 0.2065-s, 0, 180, 205)
    ext(-.34725,-.375,0,0,0,255,226,135)

    ext(0.46725, 0.10425, 0.2725,.53475,.191, 0, 68, 119)
    ext(-0.46725, 0.10425, 0.2725, -.53475, .191, 0, 68, 119)
    ext(0.46725, 0.104250 + s, 0.2725 - 0.0275, .53475 -s, .191 - s, 255, 226, 135)
    ext(-0.46725, 0.104250 + s, 0.2725 - 0.0275, -.53475 + s, .191 - s, 255, 226, 135)
    ext(0.46725, 0.104250 + s, 0.2725 - 2*0.0275, .53475 - 2*s, .191 - 0.0175, 255, 210, 61)
    ext(-0.46725, 0.104250 + s, 0.2725 - 2*0.0275, -.53475 +2* s, .191 - 0.0175, 255, 210, 61)

    wheels(.5,.2517,.8625,.8715,0,68,119)
    wheels(-.5, .2517, -.8625,.8715, 0, 68, 119)
    wheels(.5+s, .2517+s, .8625-s, .8715,  124, 140, 143)
    wheels(-.5-s, .2517+s, -.8625+s, .8715, 124, 140, 143)
    wheels(-.5 - 3*s, .2517 + s, -.8625 +6*s, .8715-15*s ,150, 151, 154)
    wheels(+.5 + 3 * s, .2517 + s, +.8625 - 6 * s, .8715 - 15 * s, 150, 151, 154)

    circle(0.05, .139 - 0.04, .60475 + 0.030, 0, 68 / 255, 119 / 255)
    circle(0.04, .139 - 0.04, .60475 + 0.03, 1, 1, 1)
    circle(0.05, -.139 + 0.04, .60475 + 0.030, 0, 68 / 255, 119 / 255)
    circle(0.04, -.139 + 0.04, .60475 + 0.03, 1, 1, 1)
    head(0.0765,0.60425,.217,.8,0,68,119)
    head(0.0765-s, 0.60425, .217-s, .8-s, 255, 210, 61)
    glLineWidth(2)
    lines(-.217,.217, .8-0.08, 0, 68, 119)
    halfC(0.1,0,.8-0.08,1,0, 68/255, 119/255)
    halfC(0.0911111, 0, .8 - 0.08,1, 1, 210/255, 61/255)

    eyes()

    glLineWidth(5)
    det()
    hand()
    glLineWidth(6)
    lineY(.3985, .2 - 2 * .03525, .0625 - 2 * .04525,0, 68, 119 )
    lineY(-.3985, .2 - 2 * .03525, .0625 - 2 * .04525, 0, 68, 119)
    lineY(.3985, -(.2 + .03), -(.0625 +  .0211), 0, 68, 119)
    lineY(-.3985, -(.2 + .03), -(.0625 + .0211), 0, 68, 119)

    glFlush()

glutInit()
glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB)
glutInitWindowSize(600,600)
glutCreateWindow(b"First OpenGl program")
glutDisplayFunc(Draw)
glutMainLoop()